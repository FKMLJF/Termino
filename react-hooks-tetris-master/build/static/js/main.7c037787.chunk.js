(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){e.exports=n.p+"static/media/bg.2810fe6b.png"},27:function(e,t,n){e.exports=n(57)},33:function(e,t,n){},38:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(19),c=n.n(o),u=(n(33),n(1)),i=n(3),l=n(4),s=n(20),f=n.n(s);function d(){var e=Object(i.a)(["\n  display: flex;\n  align-items: flex-start;\n  padding: 40px;\n  margin: 0 auto;\n  max-width: 900px;\n\n  aside {\n    width: 100%;\n    max-width: 200px;\n    display: block;\n    padding: 0 20px;\n  }\n"]);return d=function(){return e},e}function m(){var e=Object(i.a)(["\n  width: 100vw;\n  height: 100vh;\n  background: url(",") #000;\n  background-size: cover;\n  overflow: hidden;\n"]);return m=function(){return e},e}var p=l.a.div(m(),f.a),b=l.a.div(d()),h=function(){return Array.from(Array(20),function(){return new Array(12).fill([0,"clear"])})},g=function(e,t,n){for(var r=n.x,a=n.y,o=0;o<e.tetromino.length;o+=1)for(var c=0;c<e.tetromino[o].length;c+=1)if(0!==e.tetromino[o][c]&&(!t[o+e.pos.y+a]||!t[o+e.pos.y+a][c+e.pos.x+r]||"clear"!==t[o+e.pos.y+a][c+e.pos.x+r][1]))return!0;return!1};var v=n(24),x={0:{shape:[[0]],color:"0, 0, 0"},I:{shape:[[0,"I",0,0],[0,"I",0,0],[0,"I",0,0],[0,"I",0,0]],color:"16, 226, 170"},J:{shape:[[0,"J",0],[0,"J",0],["J","J",0]],color:"36, 95, 223"},L:{shape:[[0,"L",0],[0,"L",0],[0,"L","L"]],color:"223, 173, 36"},O:{shape:[["O","O"],["O","O"]],color:"223, 217, 36"},S:{shape:[[0,"S","S"],["S","S",0],[0,0,0]],color:"48, 211, 56"},T:{shape:[[0,0,0],["T","T","T"],[0,"T",0]],color:"132, 61, 198"},Z:{shape:[["Z","Z",0],[0,"Z","Z"],[0,0,0]],color:"227, 78, 78"}},O=function(){var e="IJLOSTZ"[Math.floor(Math.random()*"IJLOSTZ".length)];return x[e]},j=function(e,t){var n=Object(r.useState)(h()),a=Object(u.a)(n,2),o=a[0],c=a[1],i=Object(r.useState)(0),l=Object(u.a)(i,2),s=l[0],f=l[1];return Object(r.useEffect)(function(){f(0);var n=function(n){var r=n.map(function(e){return e.map(function(e){return"clear"===e[1]?[0,"clear"]:e})});return e.tetromino.forEach(function(t,n){t.forEach(function(t,a){0!==t&&(r[n+e.pos.y][a+e.pos.x]=[t,"".concat(e.collided?"merged":"clear")])})}),e.collided?(t(),function(e){return e.reduce(function(t,n){return-1===n.findIndex(function(e){return 0===e[0]})?(f(function(e){return e+1}),t.unshift(new Array(e[0].length).fill([0,"clear"])),t):(t.push(n),t)},[])}(r)):r};c(function(e){return n(e)})},[e.collided,e.pos.x,e.pos.y,e.tetromino,t]),[o,c,s]};function E(){var e=Object(i.a)(["\n  display: grid;\n  grid-template-rows: repeat(\n    ",",\n    calc(25vw / ",")\n  );\n  grid-template-columns: repeat(",", 1fr);\n  grid-gap: 1px;\n  border: 2px solid #333;\n  width: 100%;\n  max-width: 25vw;\n  background: #111;\n"]);return E=function(){return e},e}var y=l.a.div(E(),function(e){return e.height},function(e){return e.width},function(e){return e.width});function S(){var e=Object(i.a)(["\n  width: auto;\n  /* border-radius: 5px; */\n  background: rgba(",", 0.8);\n  border: ",";\n  border-bottom-color: rgba(",", 0.1);\n  border-right-color: rgba(",", 1);\n  border-top-color: rgba(",", 1);\n  border-left-color: rgba(",", 0.3);\n"]);return S=function(){return e},e}var w=l.a.div(S(),function(e){return e.color},function(e){return 0===e.type?"0px solid":"4px solid"},function(e){return e.color},function(e){return e.color},function(e){return e.color},function(e){return e.color}),J=a.a.memo(function(e){var t=e.type;return a.a.createElement(w,{type:t,color:x[t].color})}),k=function(e){var t=e.stage;return a.a.createElement(y,{width:t[0].length,height:t.length},t.map(function(e){return e.map(function(e,t){return a.a.createElement(J,{key:t,type:e[0]})})}))};function T(){var e=Object(i.a)(["\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  margin: 0 0 20px 0;\n  padding: 20px;\n  border: 4px solid #333;\n  min-height: 30px;\n  width: 100%;\n  border-radius: 20px;\n  color: ",";\n  background: #000;\n  font-family: Pixel, Arial, Helvetica, sans-serif;\n  font-size: 0.8rem;\n"]);return T=function(){return e},e}var I=l.a.div(T(),function(e){return e.gameOver?"red":"#999"}),z=function(e){var t=e.gameOver,n=e.text;return a.a.createElement(I,{gameOver:t},n)};function A(){var e=Object(i.a)(["\n  box-sizing: border-box;\n\n  margin: 0 0 20px 0;\n  padding: 20px;\n  min-height: 30px;\n  width: 100%;\n  border-radius: 20px;\n  border: none;\n  color: white;\n  background: #333;\n  font-family: Pixel, Arial, Helvetica, sans-serif;\n  font-size: 1rem;\n  outline: none;\n  cursor: pointer;\n"]);return A=function(){return e},e}var H=l.a.button(A()),N=function(e){var t=e.callback;return a.a.createElement(H,{onClick:t},"Start ")},C=(n(38),n(8)),L=n.n(C),X=n(59),D=(n(56),function(){var e=Object(r.useState)(null),t=Object(u.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)(!1),i=Object(u.a)(c,2),l=i[0],s=i[1],f=Object(r.useState)(!0),d=Object(u.a)(f,2),m=d[0],E=d[1],y=Object(r.useState)("Stop"),S=Object(u.a)(y,2),w=S[0],J=S[1],T=Object(r.useState)(""),I=Object(u.a)(T,2),A=I[0],H=I[1],C=Object(r.useState)(null==localStorage.getItem("gamer_tetris")?"":localStorage.getItem("gamer_tetris")),D=Object(u.a)(C,2),K=D[0],Z=D[1],P=Object(r.useState)(!1),R=Object(u.a)(P,2),V=R[0],Y=R[1],F=Object(r.useState)(""),G=Object(u.a)(F,2),U=G[0],q=G[1],B=function(){var e=Object(r.useState)({pos:{x:0,y:0},tetromino:x[0].shape,collided:!1}),t=Object(u.a)(e,2),n=t[0],a=t[1],o=[],c=!1;function i(e,t){var n=e.map(function(t,n){return e.map(function(e){return e[n]})});return t>0?n.map(function(e){return e.reverse()}):n.reverse()}var l=Object(r.useCallback)(function(){if(c){var e=[];e.push(o[1]),e.push(O().shape),o=e}else o.push(O().shape),o.push(O().shape),c=!0;localStorage.setItem("nextTermino",o[1][1][1]),a({pos:{x:4,y:0},tetromino:o[0],collided:!1})},[]);return[n,function(e){var t=e.x,n=e.y,r=e.collided;a(function(e){return Object(v.a)({},e,{pos:{x:e.pos.x+=t,y:e.pos.y+=n},collided:r})})},l,function(e,t){var r=JSON.parse(JSON.stringify(n));r.tetromino=i(r.tetromino,t);for(var o=r.pos.x,c=1;g(r,e,{x:0,y:0});)if(r.pos.x+=c,(c=-(c+(c>0?1:-1)))>r.tetromino[0].length)return i(r.tetromino,-t),void(r.pos.x=o);a(r)}]}(),M=Object(u.a)(B,4),Q=M[0],W=M[1],_=M[2],$=M[3],ee=j(Q,_),te=Object(u.a)(ee,3),ne=te[0],re=te[1],ae=function(e){var t=Object(r.useState)(0),n=Object(u.a)(t,2),a=n[0],o=n[1],c=Object(r.useState)(0),i=Object(u.a)(c,2),l=i[0],s=i[1],f=Object(r.useState)(0),d=Object(u.a)(f,2),m=d[0],p=d[1],b=[40,100,300,1200],h=Object(r.useCallback)(function(){e>0&&(o(function(t){return t+b[e-1]*(m+1)}),s(function(t){return t+e}))},[m,b,e]);return Object(r.useEffect)(function(){h()},[h,e,a]),[a,o,l,s,m,p]}(te[2]),oe=Object(u.a)(ae,6),ce=oe[0],ue=oe[1],ie=oe[2],le=oe[3],se=oe[4],fe=oe[5],de=Object(r.useState)([]),me=Object(u.a)(de,2),pe=me[0],be=me[1],he=function(e){g(Q,ne,{x:e,y:0})||W({x:e,y:0})},ge=function(){ie>10*(se+1)&&(fe(function(e){return e+1}),o(1e3/(se+1)+200)),g(Q,ne,{x:0,y:1})?(Q.pos.y<1&&(s(!0),null==localStorage.getItem("topscore_tetris")&&localStorage.setItem("topscore_tetris",0),localStorage.setItem("topscore_tetris",ce),L.a.post("https://vmm.vector.hu/api/games/highscore/add",{game:"tetris",name:K,score:ce},{headers:{Authorization:"JjhFhwXh6SzbjyDHFRmkY5SC77M7qPS3aGJcfsWFzLxArvcAL9BX444PNzXGqgbHDm3NJMqGXTHcDLNKbV7U2EY59knXQhPxdpbWTmTapqZzCZXXYqJH4QBSpLHyV42CdHkesp3UytJ5CXrEHe3zpKhw45TddG8sUJ7Hf2Y5eb5VRkWcJfFUTmjebarHKrgKzU3y8fnjecuS4aBdcmpK2Rd45zQZgk7f8YgjwujhnxS5wJAMRNCFJwv5aBGT2wsY"}}),o(null)),W({x:0,y:0,collided:!0})):(W({x:0,y:1,collided:!1}),H(localStorage.getItem("nextTermino")))};!function(e,t){var n=Object(r.useRef)();Object(r.useEffect)(function(){n.current=e},[e]),Object(r.useEffect)(function(){if(null!==t){var e=setInterval(function(){n.current()},t);return function(){clearInterval(e)}}},[t])}(function(){1==m&&ge()},n);var ve=function(e){var t=e.keyCode;l||1==m&&(37===t?he(-1):39===t?he(1):40===t?(o(null),ge()):38===t&&$(ne,1))};return a.a.createElement(p,{role:"button",tabIndex:"0",onKeyDown:function(e){return ve(e)},onKeyUp:function(e){var t=e.keyCode;l?console.log(ce,"pont"):40===t&&o(1e3/(se+1))}},a.a.createElement("p",{className:"center p-0",style:{color:"#10E2AA"}},"Vector Kft. - VAPPRIS V1.6"),a.a.createElement(X.a,{striped:!0,bordered:!0,hover:!0,className:"max-w"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"J\xe1t\xe9kos"),a.a.createElement("th",null,"Pont"))),a.a.createElement("tbody",null,pe.map(function(e,t){return a.a.createElement("tr",null,a.a.createElement("td",null,e.name),a.a.createElement("td",null,e.score))}))),a.a.createElement(b,null,a.a.createElement(k,{stage:ne}),a.a.createElement("aside",null,l?a.a.createElement(z,{gameOver:l,text:"Vege:".concat(ce)}):a.a.createElement("div",null,a.a.createElement(z,{text:"Pont: ".concat(ce)}),a.a.createElement(z,{text:"Sor: ".concat(ie)}),a.a.createElement(z,{text:"Szin: ".concat(se)}),a.a.createElement(z,{text:a.a.createElement("input",{className:"gamer",placeholder:"IDE IRD a NEVED",type:"text",value:K,disabled:V,onChange:function(e){return Z(e.target.value)}})}),a.a.createElement(z,{text:a.a.createElement("div",{className:"nextTetrominos ".concat(A)})})),""!==U?a.a.createElement("span",{className:"error"},U):null,a.a.createElement(N,{callback:function(){""!==K?(re(h()),o(1e3),_(),ue(0),fe(0),le(0),Y(!0),s(!1),q(""),L.a.post("https://vmm.vector.hu/api/games/highscore/get",{game:"tetris"},{headers:{Authorization:"JjhFhwXh6SzbjyDHFRmkY5SC77M7qPS3aGJcfsWFzLxArvcAL9BX444PNzXGqgbHDm3NJMqGXTHcDLNKbV7U2EY59knXQhPxdpbWTmTapqZzCZXXYqJH4QBSpLHyV42CdHkesp3UytJ5CXrEHe3zpKhw45TddG8sUJ7Hf2Y5eb5VRkWcJfFUTmjebarHKrgKzU3y8fnjecuS4aBdcmpK2Rd45zQZgk7f8YgjwujhnxS5wJAMRNCFJwv5aBGT2wsY"}}).then(function(e){be(e.data)}),localStorage.setItem("gamer_tetris",K)):q("ADD MEG a NEVED START ELOTT!")}}),a.a.createElement("button",{className:"vapp-btn ".concat(1==m?"error":""),onClick:function(){E(!m),J(m?"Folytatas":"Stop")},disabled:!V},w))))}),K=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(D,null))};c.a.render(a.a.createElement(K,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.7c037787.chunk.js.map